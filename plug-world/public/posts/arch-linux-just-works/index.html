<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Arch Linux Just Works | PlugWorld</title>
<meta name="keywords" content="">
<meta name="description" content="Intro Arch is often not recommended to new Linux users. This is caused by the fact that you have to run a lot of commands to install and configure your system. The terminal is scary. The terminal is made for hackers. That pushes new users away from it.
Despite all of that, I would recommend Arch Linux to beginners.
Arch has just recently made a guided installer. The installer makes this process extremely easy and less tedious.">
<meta name="author" content="">
<link rel="canonical" href="https://plug-world.com/posts/arch-linux-just-works/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.e483b66c494cbe26d447e66bda165c7a29e6e6f926f00df7d5422f9982014868.css" integrity="sha256-5IO2bElMvibUR&#43;Zr2hZceinm5vkm8A331UIvmYIBSGg=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://plug-world.com/images/profile/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://plug-world.com/images/profile/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://plug-world.com/images/profile/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://plug-world.com/images/profile/apple-touch-icon.png">
<link rel="mask-icon" href="https://plug-world.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Arch Linux Just Works" />
<meta property="og:description" content="Intro Arch is often not recommended to new Linux users. This is caused by the fact that you have to run a lot of commands to install and configure your system. The terminal is scary. The terminal is made for hackers. That pushes new users away from it.
Despite all of that, I would recommend Arch Linux to beginners.
Arch has just recently made a guided installer. The installer makes this process extremely easy and less tedious." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://plug-world.com/posts/arch-linux-just-works/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-20T09:19:12-06:00" />
<meta property="article:modified_time" content="2022-06-20T09:19:12-06:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Arch Linux Just Works"/>
<meta name="twitter:description" content="Intro Arch is often not recommended to new Linux users. This is caused by the fact that you have to run a lot of commands to install and configure your system. The terminal is scary. The terminal is made for hackers. That pushes new users away from it.
Despite all of that, I would recommend Arch Linux to beginners.
Arch has just recently made a guided installer. The installer makes this process extremely easy and less tedious."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://plug-world.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Arch Linux Just Works",
      "item": "https://plug-world.com/posts/arch-linux-just-works/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Arch Linux Just Works",
  "name": "Arch Linux Just Works",
  "description": "Intro Arch is often not recommended to new Linux users. This is caused by the fact that you have to run a lot of commands to install and configure your system. The terminal is scary. The terminal is made for hackers. That pushes new users away from it.\nDespite all of that, I would recommend Arch Linux to beginners.\nArch has just recently made a guided installer. The installer makes this process extremely easy and less tedious.",
  "keywords": [
    
  ],
  "articleBody": "Intro Arch is often not recommended to new Linux users. This is caused by the fact that you have to run a lot of commands to install and configure your system. The terminal is scary. The terminal is made for hackers. That pushes new users away from it.\nDespite all of that, I would recommend Arch Linux to beginners.\nArch has just recently made a guided installer. The installer makes this process extremely easy and less tedious.\npython -m archinstall guided Recently I tried to install Fedora on my laptop. I heard a lot of good things about it. Packages are up to date and stable. But it sucked. The package manager was sooo slow. Updates took forever. I had constant issues with the wifi on my laptop. It led to me manually having to request ip addresses from my router using sudo dhclient -v One problem would lead to the next. Constant issues and configuration. Then I gave up. I wasted a whole week. I spent many hours trying to get things to “just work.”\nMy Mistakes I didn’t use the normal Fedora workstation install. Instead, I used Fedora Everything.\nI tried the Fedora workstation install initially. But I hated it. I didn’t like Gnome. The system ran slow, and wasn’t as snappy as I was hoping. It had over 2000 packages installed by default. In comparison my Arch install on my desktop has 1805 packages. I have many packages I don’t use, tons of apps installed, and steam games. And yet it is less bloated than a vanilla Fedora install.\nThis led to me using Fedora Everything. It’s just the essentials. It boots to the terminal just like Arch. Nothing additional installed. I created a script to automatically install everything I needed. It had my window manager (BSPWM), terminal (st), polybar, dot files and all of that fun stuff.\nAccording to my virtual machine the script worked great. It should be great to install quickly on multiple machines. Nope, it wasn’t. It sucked. Constant issues with Fedora working with my laptop hardware. It was an endless rabbithole of maintainance and fixing things. I had an Nvidia Optimus based laptop. That was the biggest problem for my custom Fedora install. It led to many workarounds and dumb hacks. This sucked, because I wanted to run this install on many laptops. These workarounds wouldn’t work on other devices with different hardware. This would lead to me constantly maintaining all of the devices using Fedora Everything. I then stopped using Fedora.\nThe Switch to Arch Initially I didn’t want to use Arch on the laptop. Mostly because most people on the internet says “it’s unstable.” If I’m doing a laptop install, it needs to “just work.” I’m not gonna have the time to mess around trying to get things working.\nBut I thought about it more. I reconsidered. I have ran my Arch install for almost a year on my desktop. Guess what? No problems! I probably had one or two things that broke. But at the end of the day it was my fault that they broke in the first place.\nThe Archening begins Installing Arch was very straightforward. I downloaded the latest Arch ISO. And I had it livebooted in no time. Running the Arch guided installer was very straightforward and I had all the customization I needed. It allowed you to install most desktop environments and some window managers. As well as installing your own packages if you so choose. It even gave me the option to install my Nvidia drivers.\nInstead of going my typical window manager route, I went with KDE Plasma. I’m so glad I did. Everything seems to work right out of the box. Which is exactly what I needed. When it booted into Plasma there was very few apps installed. Last time I installed Plasma I had a ton of KDE apps I didn’t use. It bloated up the system, and trying to delete them was a pain in the butt. I’m really glad to see that it’s very minimal and I still have a lot of room to customize my install. It also seems to use up way less resources than Gnome. Plasma was super snappy and I’m really impressed how well it ran. Can we talk about the number of packages. I know packages aren’t everything, but holy cow! When I was done with installing all of my apps and Plasma I had 700 packages! By comparison, my Fedora Everything install had that many before I even started installing stuff.\nMy fresh Plasma install had almost no problems. As always you get display issues on Nvidia Optimus laptops. But it was an extremely simple fix. You can fix it with changing your display manager configuration or your xorg conf. You are also gonna have to switch from Wayland to Xorg in order for this to work. You gotta love Nvidia, making things harder for everyone. But after that fix, everything has been great! I’ve been running it for over a week now. No problems!\nArch is for Beginners In my opinion I believe Arch is one of the best distros for beginners. Now let me clear this up. By beginners I mean anyone with some good computer experience that’s new to Linux. The average Joe is always gonna have a harder time on Linux. Especially if they are running into problems just using Windows.\nYou could say the terminal pushes away the beginners, your gonna have to touch the terminal in the installation. But if you’re gonna use Linux you’re eventually gonna have to use the terminal. The guided Arch installer opens the door to more people. If you haven’t used Arch yet, I recommend you try it in a Virtual Machine and see how you like it. Just go through the guided installer and see what you like.\nFedora could have been just fine. My main issue came from not using the official workstation release. Fedora workstation really wasn’t my thing. Finding packages is quite a bit of work with Fedora. It’s a smaller distro so many guides simply wouldn’t tell you what the Fedora equivalent packages are. This leads to it taking more time hunting down packages.\nWith Arch, even if the application I want isn’t in the repo, I can just go to the AUR (Arch User Repository). Almost any app that runs on linux will probably be in there. Rarely are you ever gonna have to install dependencies or compile things yourself. Which is even easier for beginners.\n",
  "wordCount" : "1091",
  "inLanguage": "en",
  "datePublished": "2022-06-20T09:19:12-06:00",
  "dateModified": "2022-06-20T09:19:12-06:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://plug-world.com/posts/arch-linux-just-works/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "PlugWorld",
    "logo": {
      "@type": "ImageObject",
      "url": "https://plug-world.com/images/profile/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://plug-world.com/" accesskey="h" title="PlugWorld (Alt + H)">PlugWorld</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://plug-world.com/posts/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://plug-world.com/games/" title="Games">
                    <span>Games</span>
                </a>
            </li>
            <li>
                <a href="https://plug-world.com/videos/" title="Videos">
                    <span>Videos</span>
                </a>
            </li>
            <li>
                <a href="https://plug-world.com/contact/" title="Contact">
                    <span>Contact</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Arch Linux Just Works
    </h1>
    <div class="post-meta"><span title='2022-06-20 09:19:12 -0600 MDT'>June 20, 2022</span>

</div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details >
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">Table of Contents</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#intro" aria-label="Intro">Intro</a></li>
                    <li>
                        <a href="#my-mistakes" aria-label="My Mistakes">My Mistakes</a></li>
                    <li>
                        <a href="#the-switch-to-arch" aria-label="The Switch to Arch">The Switch to Arch</a></li>
                    <li>
                        <a href="#the-archening-begins" aria-label="The Archening begins">The Archening begins</a></li>
                    <li>
                        <a href="#arch-is-for-beginners" aria-label="Arch is for Beginners">Arch is for Beginners</a>
                    </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
        
        activeElement = elements[0];
        document.querySelector(`.inner ul li a[href="#${activeElement.getAttribute('id')}"]`).classList.add('active');
    }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
            if (element === activeElement ){
                document.querySelector(`.inner ul li a[href="#${element.getAttribute('id')}"]`).classList.add('active');
            } else {
                document.querySelector(`.inner ul li a[href="#${element.getAttribute('id')}"]`).classList.remove('active');
            }
        })
    }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--main-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>

  <div class="post-content"><h2 id="intro">Intro<a hidden class="anchor" aria-hidden="true" href="#intro">#</a></h2>
<p>Arch is often not recommended to new Linux users.
This is caused by the fact that you have to run a lot of commands to install and configure your system.
The terminal is scary.
The terminal is made for hackers.
That pushes new users away from it.</p>
<p>Despite all of that, I would recommend Arch Linux to beginners.</p>
<p>Arch has just recently made a <a href="https://linuxreviews.org/The_Latest_Arch_Linux_ISO_Has_A_Fresh_New_Guided_Installer">guided installer</a>.
The installer makes this process extremely easy and less tedious.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python -m archinstall guided
</span></span></code></pre></div><p>Recently I tried to install Fedora on my laptop.
I heard a lot of good things about it.
Packages are up to date and stable.
But it sucked.
The package manager was sooo slow.
Updates took forever.
I had constant issues with the wifi on my laptop.
It led to me manually having to request ip addresses from my router using <code>sudo dhclient -v</code>
One problem would lead to the next.
Constant issues and configuration.
Then I gave up.
I wasted a whole week.
I spent many hours trying to get things to &ldquo;just work.&rdquo;</p>
<h2 id="my-mistakes">My Mistakes<a hidden class="anchor" aria-hidden="true" href="#my-mistakes">#</a></h2>
<p>I didn&rsquo;t use the normal <a href="https://getfedora.org/">Fedora workstation</a> install.
Instead, I used <a href="https://alt.fedoraproject.org/en/">Fedora Everything</a>.</p>
<p>I tried the Fedora workstation install initially.
But I hated it.
I didn&rsquo;t like <a href="https://www.gnome.org/">Gnome</a>.
The system ran slow, and wasn&rsquo;t as snappy as I was hoping.
It had over 2000 packages installed by default.
In comparison my Arch install on my desktop has 1805 packages.
I have many packages I don&rsquo;t use, tons of apps installed, and steam games.
And yet it is less bloated than a vanilla Fedora install.</p>
<p>This led to me using Fedora Everything.
It&rsquo;s just the essentials.
It boots to the terminal just like Arch.
Nothing additional installed.
<a href="https://github.com/HelamanWarrior/Fedora-Installer">I created a script</a> to automatically install everything I needed.
It had my window manager (<a href="https://github.com/baskerville/bspwm">BSPWM</a>), terminal (<a href="https://st.suckless.org/">st</a>), <a href="https://polybar.github.io/">polybar</a>, <a href="https://github.com/HelamanWarrior/dotfiles">dot files</a> and all of that fun stuff.</p>
<p>According to my virtual machine the script worked great.
It should be great to install quickly on multiple machines.
Nope, it wasn&rsquo;t.
It sucked.
Constant issues with Fedora working with my laptop hardware.
It was an endless rabbithole of maintainance and fixing things.
I had an <a href="https://wiki.archlinux.org/title/NVIDIA_Optimus">Nvidia Optimus</a> based laptop.
That was the biggest problem for my custom Fedora install.
It led to many workarounds and dumb hacks.
This sucked, because I wanted to run this install on many laptops.
These workarounds wouldn&rsquo;t work on other devices with different hardware.
This would lead to me constantly maintaining all of the devices using Fedora Everything.
I then stopped using Fedora.</p>
<h2 id="the-switch-to-arch">The Switch to Arch<a hidden class="anchor" aria-hidden="true" href="#the-switch-to-arch">#</a></h2>
<p>Initially I didn&rsquo;t want to use Arch on the laptop.
Mostly because most people on the internet says &ldquo;it&rsquo;s unstable.&rdquo;
If I&rsquo;m doing a laptop install, it needs to &ldquo;just work.&rdquo;
I&rsquo;m not gonna have the time to mess around trying to get things working.</p>
<p>But I thought about it more.
I reconsidered.
I have ran my Arch install for almost a year on my desktop.
Guess what?
No problems!
I probably had one or two things that broke.
But at the end of the day it was my fault that they broke in the first place.</p>
<h2 id="the-archening-begins">The Archening begins<a hidden class="anchor" aria-hidden="true" href="#the-archening-begins">#</a></h2>
<p>Installing Arch was very straightforward.
I downloaded the latest <a href="https://archlinux.org/download/">Arch ISO</a>.
And I had it livebooted in no time.
Running the Arch guided installer was very straightforward and I had all the customization I needed.
It allowed you to install most desktop environments and some window managers.
As well as installing your own packages if you so choose.
It even gave me the option to install my Nvidia drivers.</p>
<p>Instead of going my typical window manager route, I went with <a href="https://kde.org/plasma-desktop/">KDE Plasma</a>.
I&rsquo;m so glad I did.
Everything seems to work right out of the box.
Which is exactly what I needed.
When it booted into Plasma there was very few apps installed.
Last time I installed Plasma I had a ton of KDE apps I didn&rsquo;t use.
It bloated up the system, and trying to delete them was a pain in the butt.
I&rsquo;m really glad to see that it&rsquo;s very minimal and I still have a lot of room to customize my install.
It also seems to use up way less resources than Gnome.
Plasma was super snappy and I&rsquo;m really impressed how well it ran.
Can we talk about the number of packages.
I know packages aren&rsquo;t everything, but holy cow!
When I was done with installing all of my apps and Plasma I had 700 packages!
By comparison, my Fedora Everything install had that many before I even started installing stuff.</p>
<p>My fresh Plasma install had almost no problems.
As always you get display issues on Nvidia Optimus laptops.
But it was an extremely simple fix.
<a href="https://wiki.archlinux.org/title/NVIDIA_Optimus#No_screens_found_on_a_laptop/NVIDIA_Optimus">You can fix it</a> with changing your display manager configuration or your xorg conf.
You are also gonna have to switch from Wayland to Xorg in order for this to work.
You gotta love Nvidia, making things harder for everyone.
But after that fix, everything has been great!
I&rsquo;ve been running it for over a week now.
No problems!</p>
<h2 id="arch-is-for-beginners">Arch is for Beginners<a hidden class="anchor" aria-hidden="true" href="#arch-is-for-beginners">#</a></h2>
<p>In my opinion I believe Arch is one of the best distros for beginners.
Now let me clear this up.
By beginners I mean anyone with some good computer experience that&rsquo;s new to Linux.
The average Joe is always gonna have a harder time on Linux.
Especially if they are running into problems just using Windows.</p>
<p>You could say the terminal pushes away the beginners, your gonna have to touch the terminal in the installation.
But if you&rsquo;re gonna use Linux you&rsquo;re eventually gonna have to use the terminal.
The guided Arch installer opens the door to more people.
If you haven&rsquo;t used Arch yet, I recommend you try it in a Virtual Machine and see how you like it.
Just go through the guided installer and see what you like.</p>
<p>Fedora could have been just fine.
My main issue came from not using the official workstation release.
Fedora workstation really wasn&rsquo;t my thing.
Finding packages is quite a bit of work with Fedora.
It&rsquo;s a smaller distro so many guides simply wouldn&rsquo;t tell you what the Fedora equivalent packages are.
This leads to it taking more time hunting down packages.</p>
<p>With Arch, even if the application I want isn&rsquo;t in the repo, I can just go to the <a href="https://aur.archlinux.org/">AUR (Arch User Repository)</a>.
Almost any app that runs on linux will probably be in there.
Rarely are you ever gonna have to install dependencies or compile things yourself.
Which is even easier for beginners.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
